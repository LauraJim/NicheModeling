<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11 Evaluation method: building accumulation curve of occurrences | Index</title>
  <meta name="description" content="11 Evaluation method: building accumulation curve of occurrences | Index" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="11 Evaluation method: building accumulation curve of occurrences | Index" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11 Evaluation method: building accumulation curve of occurrences | Index" />
  
  
  

<meta name="author" content="Laura Jiménez and Carola Franzen" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="projecting-an-estimated-niche-into-g-space.html"/>
<link rel="next" href="bayesian-model-adding-tolerance-limits.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.0.1" data-path="index.html"><a href="index.html#organization-within-the-tutorial"><i class="fa fa-check"></i><b>1.0.1</b> Organization within the tutorial</a></li>
<li class="chapter" data-level="1.0.2" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.0.2</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html"><i class="fa fa-check"></i><b>2</b> Description of initial datasets</a>
<ul>
<li class="chapter" data-level="2.1" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html#species-under-study-and-necessary-files-to-start-an-analysis"><i class="fa fa-check"></i><b>2.1</b> Species under study and necessary files to start an analysis</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html#occurrence-data"><i class="fa fa-check"></i><b>2.1.1</b> Occurrence data</a></li>
<li class="chapter" data-level="2.1.2" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html#points-inside-the-study-area-to-plot-hutchinsons-duality"><i class="fa fa-check"></i><b>2.1.2</b> Points inside the study area to plot Hutchinson’s duality</a></li>
<li class="chapter" data-level="2.1.3" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html#table-with-species-tolerance-limit"><i class="fa fa-check"></i><b>2.1.3</b> Table with species’ tolerance limit</a></li>
<li class="chapter" data-level="2.1.4" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html#polygons-of-the-study-area"><i class="fa fa-check"></i><b>2.1.4</b> Polygons of the study area</a></li>
<li class="chapter" data-level="2.1.5" data-path="description-of-initial-datasets.html"><a href="description-of-initial-datasets.html#rasters-with-environmental-information"><i class="fa fa-check"></i><b>2.1.5</b> Rasters with environmental information</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><i class="fa fa-check"></i><b>3</b> Extracting environmental data from raster files from a set of geographic coordinates</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#parameters"><i class="fa fa-check"></i><b>3.0.1</b> Parameters</a></li>
<li class="chapter" data-level="3.0.2" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#input-and-output"><i class="fa fa-check"></i><b>3.0.2</b> Input and Output</a></li>
<li class="chapter" data-level="3.0.3" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#dependencies"><i class="fa fa-check"></i><b>3.0.3</b> Dependencies</a></li>
<li class="chapter" data-level="3.1" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#worked-examples"><i class="fa fa-check"></i><b>3.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#read-source-code-and-libraries"><i class="fa fa-check"></i><b>3.1.1</b> Read source code and libraries</a></li>
<li class="chapter" data-level="3.1.2" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#catasticta-nimbice"><i class="fa fa-check"></i><b>3.1.2</b> <em>Catasticta nimbice</em></a></li>
<li class="chapter" data-level="3.1.3" data-path="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html"><a href="extracting-environmental-data-from-raster-files-from-a-set-of-geographic-coordinates.html#threnetes-ruckeri"><i class="fa fa-check"></i><b>3.1.3</b> <em>Threnetes ruckeri</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Creating plots with the geographical and environmental space of a species in ggplot2</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#parameters-1"><i class="fa fa-check"></i><b>4.0.1</b> Parameters</a></li>
<li class="chapter" data-level="4.0.2" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#input-and-output-1"><i class="fa fa-check"></i><b>4.0.2</b> Input and Output</a></li>
<li class="chapter" data-level="4.0.3" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#dependencies-1"><i class="fa fa-check"></i><b>4.0.3</b> Dependencies</a></li>
<li class="chapter" data-level="4.1" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#worked-examples-1"><i class="fa fa-check"></i><b>4.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#read-source-code-and-libraries-1"><i class="fa fa-check"></i><b>4.1.1</b> Read source code and libraries</a></li>
<li class="chapter" data-level="4.1.2" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#catasticta-nimbice-1"><i class="fa fa-check"></i><b>4.1.2</b> <em>Catasticta nimbice</em></a></li>
<li class="chapter" data-level="4.1.3" data-path="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html"><a href="creating-plots-with-the-geographical-and-environmental-space-of-a-species-in-ggplot2.html#threnetes-ruckeri-1"><i class="fa fa-check"></i><b>4.1.3</b> <em>Threnetes ruckeri</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html"><i class="fa fa-check"></i><b>5</b> Mahalanobis model: raw occurrence data only</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#input-and-output-2"><i class="fa fa-check"></i><b>5.0.1</b> Input and Output</a></li>
<li class="chapter" data-level="5.0.2" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#dependencies-2"><i class="fa fa-check"></i><b>5.0.2</b> Dependencies</a></li>
<li class="chapter" data-level="5.1" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#worked-examples-2"><i class="fa fa-check"></i><b>5.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#read-source-code-and-libraries-2"><i class="fa fa-check"></i><b>5.1.1</b> Read Source Code and Libraries</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#threnetes-ruckeri---example-with-two-environmental-layers"><i class="fa fa-check"></i><b>5.2</b> <em>Threnetes ruckeri</em> - example with two environmental layers</a></li>
<li class="chapter" data-level="5.3" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#catasticta-nimbice-2"><i class="fa fa-check"></i><b>5.3</b> <em>Catasticta nimbice</em></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#get-environmental-information-from-three-raster-layers"><i class="fa fa-check"></i><b>5.3.1</b> 1) Get environmental information from three raster layers</a></li>
<li class="chapter" data-level="5.3.2" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#estimate-mahalanobis-model-parameters"><i class="fa fa-check"></i><b>5.3.2</b> 2) Estimate Mahalanobis Model Parameters</a></li>
<li class="chapter" data-level="5.3.3" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#calculate-suitability-index"><i class="fa fa-check"></i><b>5.3.3</b> 3) Calculate Suitability Index</a></li>
<li class="chapter" data-level="5.3.4" data-path="mahalanobis-model-raw-occurrence-data-only.html"><a href="mahalanobis-model-raw-occurrence-data-only.html#comparing-suitability-index-against-mahalanobis-distance"><i class="fa fa-check"></i><b>5.3.4</b> 3) Comparing suitability index against Mahalanobis distance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html"><i class="fa fa-check"></i><b>6</b> Plotting an ellipsoid in E-space</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#parameters-2"><i class="fa fa-check"></i><b>6.0.1</b> Parameters</a></li>
<li class="chapter" data-level="6.0.2" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#input-and-output-3"><i class="fa fa-check"></i><b>6.0.2</b> Input and Output</a></li>
<li class="chapter" data-level="6.0.3" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#dependencies-3"><i class="fa fa-check"></i><b>6.0.3</b> Dependencies</a></li>
<li class="chapter" data-level="6.1" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#worked-examples-3"><i class="fa fa-check"></i><b>6.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#read-source-code-and-library"><i class="fa fa-check"></i><b>6.1.1</b> Read source code and library</a></li>
<li class="chapter" data-level="6.1.2" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#example-with-three-ellipses-threnetes-ruckeri"><i class="fa fa-check"></i><b>6.1.2</b> Example with three ellipses (<em>Threnetes ruckeri</em>)</a></li>
<li class="chapter" data-level="6.1.3" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#example-with-several-ellipses-catasticta-nimbice"><i class="fa fa-check"></i><b>6.1.3</b> Example with several ellipses (<em>Catasticta nimbice</em>)</a></li>
<li class="chapter" data-level="6.1.4" data-path="plotting-an-ellipsoid-in-e-space.html"><a href="plotting-an-ellipsoid-in-e-space.html#example-with-three-environmental-variables-catasticta-nimbice"><i class="fa fa-check"></i><b>6.1.4</b> Example with three environmental variables (<em>Catasticta nimbice</em>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><i class="fa fa-check"></i><b>7</b> How to simulate a random sample of environmental conditions inside an region</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#parameters-3"><i class="fa fa-check"></i><b>7.0.1</b> Parameters</a></li>
<li class="chapter" data-level="7.0.2" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#input-and-output-4"><i class="fa fa-check"></i><b>7.0.2</b> Input and Output</a></li>
<li class="chapter" data-level="7.0.3" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#dependencies-4"><i class="fa fa-check"></i><b>7.0.3</b> Dependencies</a></li>
<li class="chapter" data-level="7.1" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#worked-examples-4"><i class="fa fa-check"></i><b>7.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#read-source-code-and-libraries-3"><i class="fa fa-check"></i><b>7.1.1</b> Read source code and libraries</a></li>
<li class="chapter" data-level="7.1.2" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#catasticta-nimbice-3"><i class="fa fa-check"></i><b>7.1.2</b> <em>Catasticta nimbice</em></a></li>
<li class="chapter" data-level="7.1.3" data-path="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html"><a href="how-to-simulate-a-random-sample-of-environmental-conditions-inside-an-region.html#threnetes-ruckeri-2"><i class="fa fa-check"></i><b>7.1.3</b> <em>Threnetes ruckeri</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><i class="fa fa-check"></i><b>8</b> How to identify points inside and outside the fundamental niche</a>
<ul>
<li class="chapter" data-level="8.0.1" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#parameters-4"><i class="fa fa-check"></i><b>8.0.1</b> Parameters</a></li>
<li class="chapter" data-level="8.0.2" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#input-and-output-5"><i class="fa fa-check"></i><b>8.0.2</b> Input and Output</a></li>
<li class="chapter" data-level="8.0.3" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#dependencies-5"><i class="fa fa-check"></i><b>8.0.3</b> Dependencies</a></li>
<li class="chapter" data-level="8.1" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#worked-examples-5"><i class="fa fa-check"></i><b>8.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#read-source-code-and-library-1"><i class="fa fa-check"></i><b>8.1.1</b> Read source code and library</a></li>
<li class="chapter" data-level="8.1.2" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#threnetes-ruckeri-3"><i class="fa fa-check"></i><b>8.1.2</b> <em>Threnetes ruckeri</em></a></li>
<li class="chapter" data-level="8.1.3" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#catasticta-nimbice-4"><i class="fa fa-check"></i><b>8.1.3</b> <em>Catasticta nimbice</em></a></li>
<li class="chapter" data-level="8.1.4" data-path="how-to-identify-points-inside-and-outside-the-fundamental-niche.html"><a href="how-to-identify-points-inside-and-outside-the-fundamental-niche.html#theoretical-example"><i class="fa fa-check"></i><b>8.1.4</b> Theoretical Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><i class="fa fa-check"></i><b>9</b> Weighted-normal model: accounting for the uneven availability of environmental conditions</a>
<ul>
<li class="chapter" data-level="9.1" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#how-the-functions-work"><i class="fa fa-check"></i><b>9.1</b> How the functions work</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#parameters-5"><i class="fa fa-check"></i><b>9.1.1</b> Parameters</a></li>
<li class="chapter" data-level="9.1.2" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#input-and-output-6"><i class="fa fa-check"></i><b>9.1.2</b> Input and Output</a></li>
<li class="chapter" data-level="9.1.3" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#dependencies-6"><i class="fa fa-check"></i><b>9.1.3</b> Dependencies</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#worked-examples-6"><i class="fa fa-check"></i><b>9.2</b> Worked examples</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#read-sources-and-libraries"><i class="fa fa-check"></i><b>9.2.1</b> Read sources and libraries</a></li>
<li class="chapter" data-level="9.2.2" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#catasticta-nimbice-5"><i class="fa fa-check"></i><b>9.2.2</b> <em>Catasticta nimbice</em></a></li>
<li class="chapter" data-level="9.2.3" data-path="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html"><a href="weighted-normal-model-accounting-for-the-uneven-availability-of-environmental-conditions.html#threnetes-ruckeri-4"><i class="fa fa-check"></i><b>9.2.3</b> <em>Threnetes ruckeri</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html"><i class="fa fa-check"></i><b>10</b> Projecting an estimated niche into G-space</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#parameters-6"><i class="fa fa-check"></i><b>10.0.1</b> Parameters</a></li>
<li class="chapter" data-level="10.0.2" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#input-and-output-7"><i class="fa fa-check"></i><b>10.0.2</b> Input and Output</a></li>
<li class="chapter" data-level="10.0.3" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#dependencies-7"><i class="fa fa-check"></i><b>10.0.3</b> Dependencies</a></li>
<li class="chapter" data-level="10.1" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#worked-examples-7"><i class="fa fa-check"></i><b>10.1</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#read-source-code-and-libraries-4"><i class="fa fa-check"></i><b>10.1.1</b> Read source code and libraries</a></li>
<li class="chapter" data-level="10.1.2" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#catasticta-nimbice-6"><i class="fa fa-check"></i><b>10.1.2</b> <em>Catasticta nimbice</em></a></li>
<li class="chapter" data-level="10.1.3" data-path="projecting-an-estimated-niche-into-g-space.html"><a href="projecting-an-estimated-niche-into-g-space.html#threnetes-ruckeri-5"><i class="fa fa-check"></i><b>10.1.3</b> <em>Threnetes ruckeri</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html"><i class="fa fa-check"></i><b>11</b> Evaluation method: building accumulation curve of occurrences</a>
<ul>
<li class="chapter" data-level="11.1" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#calculate-the-accumulation-curve"><i class="fa fa-check"></i><b>11.1</b> Calculate the accumulation curve</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#parameters-7"><i class="fa fa-check"></i><b>11.1.1</b> Parameters</a></li>
<li class="chapter" data-level="11.1.2" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#input-and-output-8"><i class="fa fa-check"></i><b>11.1.2</b> Input and Output</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#worked-examples-8"><i class="fa fa-check"></i><b>11.2</b> Worked Examples</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#read-libraries-and-source-codes"><i class="fa fa-check"></i><b>11.2.1</b> Read libraries and source codes</a></li>
<li class="chapter" data-level="11.2.2" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#catasticta-nimbice-with-three-environmental-layers"><i class="fa fa-check"></i><b>11.2.2</b> <em>Catasticta nimbice</em> with three environmental layers</a></li>
<li class="chapter" data-level="11.2.3" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#threnetes-ruckeri-with-two-environmental-layers"><i class="fa fa-check"></i><b>11.2.3</b> <em>Threnetes ruckeri</em> with two environmental layers</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#comparing-the-accumulation-curves"><i class="fa fa-check"></i><b>11.3</b> Comparing the accumulation curves</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#parameters-8"><i class="fa fa-check"></i><b>11.3.1</b> Parameters</a></li>
<li class="chapter" data-level="11.3.2" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#input-and-output-9"><i class="fa fa-check"></i><b>11.3.2</b> Input and Output</a></li>
<li class="chapter" data-level="11.3.3" data-path="evaluation-method-building-accumulation-curve-of-occurrences.html"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#worked-example-threnetes-ruckeri"><i class="fa fa-check"></i><b>11.3.3</b> Worked example: <em>Threnetes ruckeri</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html"><i class="fa fa-check"></i><b>12</b> Bayesian model: adding tolerance limits</a>
<ul>
<li class="chapter" data-level="12.1" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#how-the-main-functions-work"><i class="fa fa-check"></i><b>12.1</b> How the main functions work</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#parameters-9"><i class="fa fa-check"></i><b>12.1.1</b> Parameters</a></li>
<li class="chapter" data-level="12.1.2" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#input-and-output-10"><i class="fa fa-check"></i><b>12.1.2</b> Input and Output</a></li>
<li class="chapter" data-level="12.1.3" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#dependencies-8"><i class="fa fa-check"></i><b>12.1.3</b> Dependencies</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#worked-example-threnetes-ruckeri-1"><i class="fa fa-check"></i><b>12.2</b> Worked Example: <em>Threnetes ruckeri</em></a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#read-source-codes-and-libraries"><i class="fa fa-check"></i><b>12.2.1</b> Read source codes and libraries</a></li>
<li class="chapter" data-level="12.2.2" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#main-code"><i class="fa fa-check"></i><b>12.2.2</b> Main code</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#using-the-bayesian-model-for-the-projection-into-g-space"><i class="fa fa-check"></i><b>12.3</b> Using the Bayesian model for the projection into G-Space</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="bayesian-model-adding-tolerance-limits.html"><a href="bayesian-model-adding-tolerance-limits.html#read-source-and-libraries"><i class="fa fa-check"></i><b>12.3.1</b> Read source and libraries</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Index</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="evaluation-method-building-accumulation-curve-of-occurrences" class="section level1" number="11">
<h1><span class="header-section-number">11</span> Evaluation method: building accumulation curve of occurrences</h1>
<p>In this tutorial, three functions are used to generate an accumulation curve and plot it. Those functions are <code>get.table</code>, <code>get.curve</code>, and <code>plot.aco</code>. The function <code>accum.occ</code> will make use of the same function to produce several graphs as well as a matrix output of the curve. The resulting curves can then be tested
with the function <code>compare.aco</code>.</p>
<div id="calculate-the-accumulation-curve" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Calculate the accumulation curve</h2>
<p>In order to calculate the accumulation curve, three different sub-functions are needed for the main function <code>accum.occ</code>. First, <code>get.table</code> will extract data from a raster that has information on suitable niches for a species and create a table with the extracted information.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get.table</span>(G.occ, suit.Estck)</span></code></pre></div>
<p>The second function <code>get.curve</code> classifies and accumulates cells for the study area and occurrences of a species based on the suitability that was previously calculated by using a specific model, such as Mahalanobis distance. The accumulated cells are then counted for the intervals of a curve.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get.curve</span>(occ.suit, mod.suit)</span></code></pre></div>
<p>The third function that serves as a subfunction is <code>plot.aco</code>. It plots the accumulation curve of occurrences given a confidence level and the output of the function <code>get.curve</code>.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.aco</span>(species, aco.curve, conlev, model)</span></code></pre></div>
<p>With the output of these functions, the main function <code>accum.occ</code> will generate a table and/or graphs.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">accum.occ</span>(names, G.occ, suit.Estck, null.mod, <span class="at">clev=</span><span class="dv">0</span>, <span class="at">flag=</span>T)</span></code></pre></div>
<p><br />
</p>
<div id="parameters-7" class="section level3" number="11.1.1">
<h3><span class="header-section-number">11.1.1</span> Parameters</h3>
<ul>
<li><p><code>G.occ</code> = a matrix with the coordinates of a species’ occurrence</p></li>
<li><p><code>suit.Estck</code> = a rasterstack of a raster with a calculated suitability index and two or more rasters with environmental variables</p></li>
<li><p><code>names</code> = a vector with a species name, followed by names for the environmental variables</p></li>
<li><p><code>null.mod</code> = setting the method to hypergeom (default) or binomial</p></li>
<li><p><code>clev</code> = confidence level as a proportion</p></li>
</ul>
</div>
<div id="input-and-output-8" class="section level3" number="11.1.2">
<h3><span class="header-section-number">11.1.2</span> Input and Output</h3>
<p>The rasters that are used in this tutorial need to have cells with suitability values. These kind of rasters can be created by using the function <code>niche.G</code> (see tutorial “Projecting an estimated niche into G-space”).</p>
<p>The output are information on the number of cells in study area, the number of occurrence points, and the probability of selecting an occurrence point. Additionally, three graphs are generated: the subregions and occurrences mapped in the geographical space, the subregions and occurrences mapped into the environmental space (as a 2D or 3D plot, depending on the number of environmental variables), and a graph of the accumulation curve.</p>
<!--  edit this part -->
<p>The output of <code>get.table</code> is a matrix with geographical information, a suitability index, environmental information. The function <code>get.curve</code> produces a list that contains information on the calculated curve. The output of <code>plot.aco</code> is a plot of the accumulation curve. The function <code>accum.occ</code> produces plots and a matrix with information on the accumulation curve: EDIT EDIT EDIT
<!-- needs better description --></p>
</div>
</div>
<div id="worked-examples-8" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> Worked Examples</h2>
<div id="read-libraries-and-source-codes" class="section level3" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> Read libraries and source codes</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;.</span><span class="sc">\\</span><span class="st">Functions</span><span class="sc">\\</span><span class="st">accumulation_curve_test.R&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dismo)</span>
<span id="cb160-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maptools)</span>
<span id="cb160-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgdal)</span>
<span id="cb160-4"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span></code></pre></div>
</div>
<div id="catasticta-nimbice-with-three-environmental-layers" class="section level3" number="11.2.2">
<h3><span class="header-section-number">11.2.2</span> <em>Catasticta nimbice</em> with three environmental layers</h3>
<p>For this example, three environmental layers instead of the usual two are used.</p>
<p><strong>Input files</strong></p>
<ul>
<li><p>Catasticta_nimbice_occ_G.csv</p></li>
<li><p>cn_maha3_cropped.tif</p></li>
<li><p>cn_bio1_cropped.tif</p></li>
<li><p>cn_bio6_cropped.tif</p></li>
<li><p>cn_bio12_cropped.tif</p></li>
</ul>
<p><strong>Prepare parameters</strong></p>
<p>Read the necessary input files. Besides the occurrence points of <em>Catasticta nimbice</em>, all the raster files have been created in previous tutorials (see tutorials for the <em>Mahalanobis distance</em> and <em>Initial Data</em>).</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read matrix with information on three environmental variables</span></span>
<span id="cb161-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-2" aria-hidden="true" tabindex="-1"></a>cn.occG <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./Initial_Data/Catasticta_nimbice_occ_G.csv&quot;</span>,<span class="at">header=</span>T)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb161-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-4"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read raster with calculated suitability index of three environmental layers</span></span>
<span id="cb161-5"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-5" aria-hidden="true" tabindex="-1"></a>cnmaha3 <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/cn_maha3_cropped.tif&quot;</span>)</span>
<span id="cb161-6"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-7"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="co"># read raster files</span></span>
<span id="cb161-8"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-8" aria-hidden="true" tabindex="-1"></a>bio1cn <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/cn_bio1_cropped.tif&quot;</span>)</span>
<span id="cb161-9"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-9" aria-hidden="true" tabindex="-1"></a>bio6cn <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/cn_bio6_cropped.tif&quot;</span>)</span>
<span id="cb161-10"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb161-10" aria-hidden="true" tabindex="-1"></a>bio12cn <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/cn_bio12_cropped.tif&quot;</span>)</span></code></pre></div>
<p><br />
</p>
<p><strong>1) Using the functions <code>get.table</code>, <code>get.curve</code>, and <code>plot.aco</code></strong></p>
<p>Create the necessary input for the parameters <code>names</code>, <code>G.occ</code>, <code>suit.Estck</code>, and <code>names</code>.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stack rasters and define names for stacked layers</span></span>
<span id="cb162-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb162-2" aria-hidden="true" tabindex="-1"></a>maha.stack <span class="ot">&lt;-</span> <span class="fu">stack</span>(cnmaha3, bio1cn, bio6cn, bio12cn)</span>
<span id="cb162-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(maha.stack) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;suitability&quot;</span>,<span class="st">&quot;Bio1&quot;</span>,<span class="st">&quot;Bio6&quot;</span>,<span class="st">&quot;Bio12&quot;</span>)</span></code></pre></div>
<p>Apply the function <code>get.table</code>.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb163-1" aria-hidden="true" tabindex="-1"></a>table.cn <span class="ot">&lt;-</span> <span class="fu">get.table</span>(<span class="at">G.occ =</span> cn.occG, <span class="at">suit.Estck =</span> maha.stack)</span></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(table.cn, <span class="at">n=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>##              x        y suitability Bio1 Bio6 Bio12 Type
## 59   -99.61444 18.92194   0.9512103  178   49  1129    1
## 130 -103.40972 20.71000   0.7841870  193   64   954    1
## 92  -100.47639 19.47222   0.7789280  184   61   913    1
## 110 -101.75917 20.15306   0.7786452  190   48   816    1</code></pre>
<p>Apply the function <code>get.curve</code>.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb166-1" aria-hidden="true" tabindex="-1"></a>curve.cn <span class="ot">&lt;-</span> <span class="fu">get.curve</span>(<span class="at">occ.suit =</span> table.cn[table.cn<span class="sc">$</span>Type<span class="sc">==</span><span class="dv">1</span>,][,<span class="dv">3</span>], <span class="at">mod.suit =</span> table.cn[table.cn<span class="sc">$</span>Type<span class="sc">==</span><span class="dv">0</span>,][,<span class="dv">3</span>])</span></code></pre></div>
<p>The first output provides 1) the number of cells in study area, 2) the number of occurrences, and 3) the prevalence (number of occurrences / number of cells in G).</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(curve.cn<span class="sc">$</span>out1,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 7271.000  154.000    0.021</code></pre>
<p>The second output provides the number of accumulated number of cells in the subregions and the accumulated number of occurrences in the subregions. These are the values of the intervals between steps of a curve.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(curve.cn<span class="sc">$</span>out2, <span class="at">n=</span><span class="dv">6</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    0    0
## [2,]    4    1
## [3,]  102    2
## [4,]  108    3
## [5,]  109    4
## [6,]  118    5</code></pre>
<p>Plot the curve with <code>plot.aco</code> with the species name for the parameter <code>species</code>, the results from <code>get.curve</code> as <code>aco.curve</code>, 95% confidence level and the <code>model</code> set to “hypergeom.”</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># x11()</span></span>
<span id="cb171-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.aco</span>(<span class="at">species =</span> <span class="st">&quot;Catasticta nimbice&quot;</span>, <span class="at">aco.curve =</span> curve.cn, <span class="at">conlev =</span> <span class="fl">0.95</span>, <span class="at">model =</span> <span class="st">&quot;hypergeom&quot;</span>)</span></code></pre></div>
<pre><code>## [1] Number of cells in study area: 7271
## [1] Number of occurrence points: 154
## [1] Probability of selecting an occurrence point: 0.0207</code></pre>
<p>To save the plot (as a PNG), the code for applying the function needs to be placed within the plot for saving a picture.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="fu">paste0</span>(<span class="st">&quot;./Generated_Data/Catasticta_nimbice&quot;</span>,<span class="st">&quot;_maha_curve.png&quot;</span>),<span class="at">width =</span> <span class="dv">2300</span>, <span class="at">height =</span> <span class="dv">2300</span>, </span>
<span id="cb173-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb173-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">res =</span> <span class="dv">600</span>, <span class="at">pointsize =</span> <span class="dv">6</span>)</span>
<span id="cb173-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.aco</span>(<span class="at">species =</span> <span class="st">&quot;Catasticta nimbice&quot;</span>, <span class="at">aco.curve =</span> curve.cn, <span class="at">conlev =</span> <span class="fl">0.95</span>, <span class="at">model =</span> <span class="st">&quot;hypergeom&quot;</span>)</span>
<span id="cb173-4"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-16"></span>
<img src="Images/CN_maha_acc_curve.png" alt=" Figure of the accumulation curve for *Catasticta nimbice*." width="80%" />
<p class="caption">
Figure 8.1:  Figure of the accumulation curve for <em>Catasticta nimbice</em>.
</p>
</div>
<p><br />
</p>
<p><strong>2) Using the function <code>accum.occ</code> directly</strong></p>
<p>Directly apply the accumulation curve that has the functions <code>get.table</code>, <code>get.curve</code>, and <code>plot.aco</code> integrated. For this, the parameters <code>names</code>, <code>G.occ</code>, and <code>suit.Estck</code> are necessary (the latter two have already been prepared).</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set names for species and layers </span></span>
<span id="cb174-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb174-2" aria-hidden="true" tabindex="-1"></a>spname <span class="ot">&lt;-</span> <span class="st">&quot;Catasticta_nimbice&quot;</span></span>
<span id="cb174-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb174-3" aria-hidden="true" tabindex="-1"></a>bio1 <span class="ot">&lt;-</span> <span class="st">&quot;Annual mean temperature (°C*10)&quot;</span></span>
<span id="cb174-4"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb174-4" aria-hidden="true" tabindex="-1"></a>bio6 <span class="ot">&lt;-</span> <span class="st">&quot;Minimum temperature of the coldest month (°C*10)&quot;</span></span>
<span id="cb174-5"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb174-5" aria-hidden="true" tabindex="-1"></a>bio12 <span class="ot">&lt;-</span> <span class="st">&quot;Annual precipitation (mm)&quot;</span></span></code></pre></div>
<p>Apply the function. The model will be set to <em>hypergeom</em> (default) and the confidence level to 95%.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb175-1" aria-hidden="true" tabindex="-1"></a>cnmaha.curve <span class="ot">&lt;-</span> <span class="fu">accum.occ</span>(<span class="at">names =</span> <span class="fu">c</span>(spname, bio1, bio6, bio12), <span class="at">G.occ =</span> cn.occG,</span>
<span id="cb175-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb175-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">suit.Estck =</span> maha.stack, <span class="at">null.mod=</span><span class="st">&quot;hypergeom&quot;</span>,<span class="at">clev=</span><span class="fl">0.95</span>)</span></code></pre></div>
<pre><code>## [1] Number of cells in study area: 7271
## [1] Number of occurrence points: 154
## [1] Probability of selecting an occurrence point: 0.0207</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-19"></span>
<img src="Images/CN_maha_acc_Gspace.png" alt=" Figure of the geographical space with suitable niches for *Catasticta nimbice*." width="80%" />
<p class="caption">
Figure 6.2:  Figure of the geographical space with suitable niches for <em>Catasticta nimbice</em>.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-20"></span>
<img src="Images/CN_maha_acc_Espace.png" alt=" Figure of the environmental space with suitable niches for *Catasticta nimbice*." width="80%" />
<p class="caption">
Figure 9.1:  Figure of the environmental space with suitable niches for <em>Catasticta nimbice</em>.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-21"></span>
<img src="Images/CN_maha_acc_curve.png" alt=" Figure of the accumulation curve for *Catasticta nimbice*." width="80%" />
<p class="caption">
Figure 11.1:  Figure of the accumulation curve for <em>Catasticta nimbice</em>.
</p>
</div>
</div>
<div id="threnetes-ruckeri-with-two-environmental-layers" class="section level3" number="11.2.3">
<h3><span class="header-section-number">11.2.3</span> <em>Threnetes ruckeri</em> with two environmental layers</h3>
<p>For this example, three different suitability models are applied: the weighted normal distribution, the Mahalanobis distance, and the Bayesian model. Only the graphs of the Mahalanobis model are displayed in this tutorial. The calculations are a preparation for the next anaylsis: comparing the curves.</p>
<p><strong>Input files</strong></p>
<ul>
<li><p>Threnetes_ruckeri_occ_G.csv</p></li>
<li><p>tr_wn_cropped.tif</p></li>
<li><p>tr_maha_cropped.tif</p></li>
<li><p>tr_bio1_cropped.tif</p></li>
<li><p>tr_bio12_cropped.tif</p></li>
</ul>
<p><strong>Prepare parameters</strong></p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read matrix with information on mapped occurrences of the species</span></span>
<span id="cb177-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-2" aria-hidden="true" tabindex="-1"></a>thr.occG <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./Initial_Data/Threnetes_ruckeri_occ_G.csv&quot;</span>,<span class="at">header=</span>T)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb177-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-4"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read raster with calculated suitability index of three environmental layers</span></span>
<span id="cb177-5"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-5" aria-hidden="true" tabindex="-1"></a>thrwn <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/tr_wn_cropped.tif&quot;</span>)</span>
<span id="cb177-6"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-6" aria-hidden="true" tabindex="-1"></a>thrmaha <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/tr_maha_cropped.tif&quot;</span>)</span>
<span id="cb177-7"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-7" aria-hidden="true" tabindex="-1"></a>thrbay <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/tr_bay_cropped.tif&quot;</span>)</span>
<span id="cb177-8"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-9"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="co"># read raster files</span></span>
<span id="cb177-10"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-10" aria-hidden="true" tabindex="-1"></a>bio1th <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/tr_bio1_cropped.tif&quot;</span>)</span>
<span id="cb177-11"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-11" aria-hidden="true" tabindex="-1"></a>bio12th <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;./Generated_Data/tr_bio12_cropped.tif&quot;</span>)</span>
<span id="cb177-12"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-13"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-13" aria-hidden="true" tabindex="-1"></a><span class="co"># create rasterstacks</span></span>
<span id="cb177-14"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-14" aria-hidden="true" tabindex="-1"></a>wn.stack <span class="ot">&lt;-</span> <span class="fu">stack</span>(thrwn, bio1th, bio12th)</span>
<span id="cb177-15"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-15" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(wn.stack) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;suitability&quot;</span>,<span class="st">&quot;Bio1&quot;</span>,<span class="st">&quot;Bio12&quot;</span>)</span>
<span id="cb177-16"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-17"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-17" aria-hidden="true" tabindex="-1"></a>maha.stack2 <span class="ot">&lt;-</span> <span class="fu">stack</span>(thrmaha, bio1th, bio12th)</span>
<span id="cb177-18"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-18" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(maha.stack2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;suitability&quot;</span>,<span class="st">&quot;Bio1&quot;</span>,<span class="st">&quot;Bio12&quot;</span>)</span>
<span id="cb177-19"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-20"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-20" aria-hidden="true" tabindex="-1"></a>bay.stack <span class="ot">&lt;-</span> <span class="fu">stack</span>(thrbay, bio1th, bio12th)</span>
<span id="cb177-21"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-21" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(bay.stack) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;suitability&quot;</span>,<span class="st">&quot;Bio1&quot;</span>,<span class="st">&quot;Bio12&quot;</span>)</span>
<span id="cb177-22"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-23"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-23" aria-hidden="true" tabindex="-1"></a><span class="co"># set names for species and layers </span></span>
<span id="cb177-24"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-24" aria-hidden="true" tabindex="-1"></a>spname2 <span class="ot">&lt;-</span> <span class="st">&quot;Threnetes_ruckeri&quot;</span></span>
<span id="cb177-25"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-25" aria-hidden="true" tabindex="-1"></a>bio1 <span class="ot">&lt;-</span> <span class="st">&quot;Annual mean temperature (°C*10)&quot;</span></span>
<span id="cb177-26"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb177-26" aria-hidden="true" tabindex="-1"></a>bio12 <span class="ot">&lt;-</span> <span class="st">&quot;Annual precipitation (mm)&quot;</span></span></code></pre></div>
<p><strong>Apply the function</strong></p>
<p>Apply the function for the Mahalanobis distance model. The flag is set to TRUE to give all graphs and a matrix as an output.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb178-1" aria-hidden="true" tabindex="-1"></a>thrmaha.curve <span class="ot">&lt;-</span> <span class="fu">accum.occ</span>(<span class="at">names =</span> <span class="fu">c</span>(spname2, bio1, bio12),<span class="at">G.occ =</span> thr.occG,</span>
<span id="cb178-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb178-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">suit.Estck =</span> maha.stack2, <span class="at">null.mod=</span><span class="st">&quot;hypergeom&quot;</span>,<span class="at">clev=</span><span class="fl">0.95</span>, <span class="at">flag=</span>T)</span></code></pre></div>
<pre><code>## [1] Number of cells in study area: 4170
## [1] Number of occurrence points: 171
## [1] Probability of selecting an occurrence point: 0.0394</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(thrmaha.curve, <span class="at">n=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>##      No.occurrences No.cells %Gained Occ %Area
## [1,]              0        0        0.00  0.00
## [2,]              1        5        0.58  0.12
## [3,]              2        6        1.17  0.14
## [4,]              3        7        1.75  0.17
## [5,]              4       13        2.34  0.31</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(thrmaha.curve, <span class="at">n=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>##        No.occurrences No.cells %Gained Occ  %Area
## [150,]            167     3435       97.66  82.37
## [151,]            168     3469       98.25  83.19
## [152,]            169     3510       98.83  84.17
## [153,]            170     3773       99.42  90.48
## [154,]            171     4170      100.00 100.00</code></pre>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-25"></span>
<img src="Images/THR_maha_acc_Gspace.png" alt=" Figure of the geographical space with suitable niches for *Threnetes ruckeri*." width="80%" />
<p class="caption">
Figure 11.2:  Figure of the geographical space with suitable niches for <em>Threnetes ruckeri</em>.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-26"></span>
<img src="Images/THR_maha_acc_Espace.png" alt=" Figure of the environmental space with suitable niches for *Threnetes ruckeri*." width="80%" />
<p class="caption">
Figure 11.3:  Figure of the environmental space with suitable niches for <em>Threnetes ruckeri</em>.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-27"></span>
<img src="Images/THR_maha_acc_curve.png" alt=" Figure of the accumulation curve for *Threnetes ruckeri*." width="80%" />
<p class="caption">
Figure 11.4:  Figure of the accumulation curve for <em>Threnetes ruckeri</em>.
</p>
</div>
<p>Apply the function for the weighted normal distribution model. In this version, the flag is set to false and only the matrix will be given as an output.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb184-1" aria-hidden="true" tabindex="-1"></a>thrwn.curve <span class="ot">&lt;-</span> <span class="fu">accum.occ</span>(<span class="at">names =</span> <span class="fu">c</span>(spname2, bio1, bio12),<span class="at">G.occ =</span> thr.occG,</span>
<span id="cb184-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb184-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">suit.Estck =</span> wn.stack,<span class="at">null.mod=</span><span class="st">&quot;hypergeom&quot;</span>,<span class="at">clev=</span><span class="fl">0.95</span>, <span class="at">flag=</span>F)</span></code></pre></div>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(thrwn.curve, <span class="at">n=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>##      No.occurrences No.cells %Gained Occ %Area
## [1,]              0        0        0.00  0.00
## [2,]              1        1        0.58  0.02
## [3,]              2        2        1.17  0.05
## [4,]              3        3        1.75  0.07</code></pre>
<p>Apply the function for the bayesian model.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb187-1" aria-hidden="true" tabindex="-1"></a>thrbay.curve <span class="ot">&lt;-</span> <span class="fu">accum.occ</span>(<span class="at">names =</span> <span class="fu">c</span>(spname2, bio1, bio12),<span class="at">G.occ =</span> thr.occG,</span>
<span id="cb187-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb187-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">suit.Estck =</span> bay.stack, <span class="at">null.mod=</span><span class="st">&quot;hypergeom&quot;</span>,<span class="at">clev=</span><span class="fl">0.95</span>, <span class="at">flag =</span> F)</span></code></pre></div>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(thrbay.curve, <span class="at">n=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>##      No.occurrences No.cells %Gained Occ %Area
## [1,]              0        0        0.00  0.00
## [2,]              1        2        0.58  0.05
## [3,]              2       25        1.17  0.60
## [4,]              3       26        1.75  0.62</code></pre>
</div>
</div>
<div id="comparing-the-accumulation-curves" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> Comparing the accumulation curves</h2>
<p>The function <code>compare.aco</code> compares the occurrence-accumulation curves of different SDM/ENMs for a single species.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compare.aco</span>(mods, nocc, ncells, <span class="at">xrange=</span><span class="fu">c</span>(<span class="dv">0</span>,ncells), sp.name, mods.names, alpha)</span></code></pre></div>
<div id="parameters-8" class="section level3" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> Parameters</h3>
<ul>
<li><p><code>mods</code> = list with as much elements as models to be compared, each element must be the resulting matrix of values from the function ‘accum.occ’ applied to the same occurrence data (first two columns only)</p></li>
<li><p><code>nocc</code> = number of occurrence points</p></li>
<li><p><code>ncells</code> = number of cells in M</p></li>
<li><p><code>sp.name</code> = character chain with the name of the species under study</p></li>
<li><p><code>mods.names</code> = character vector with the names of the SDMs to be compared, must have the same length as ‘mods’</p></li>
<li><p><code>alpha</code> = values between 0 and 1 representing the probability of the CI for the null model</p></li>
</ul>
</div>
<div id="input-and-output-9" class="section level3" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> Input and Output</h3>
<p>The necessary parameters for this function are the results of the accumulation curve. The output of this function is a plot that displays the accumulation curve of the models that are to be compared.</p>
</div>
<div id="worked-example-threnetes-ruckeri" class="section level3" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> Worked example: <em>Threnetes ruckeri</em></h3>
<p>First, create a list with all the matrices using only the first two columns of the matrix created by the accumulation curve.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb191-1" aria-hidden="true" tabindex="-1"></a>models3 <span class="ot">&lt;-</span> <span class="fu">list</span>(thrmaha.curve[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], thrwn.curve[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], thrbay.curve[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span></code></pre></div>
<p>Next, apply the function that draws all the models in a single plot.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compare.aco</span>(<span class="at">mods=</span>models3, <span class="at">nocc=</span><span class="dv">171</span>, <span class="at">ncells=</span><span class="dv">4170</span>,</span>
<span id="cb192-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb192-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">sp.name=</span>spname2, <span class="at">mods.names=</span><span class="fu">c</span>(<span class="st">&quot;Mahalanobis&quot;</span>,<span class="st">&quot;Weigthed-Normal&quot;</span>, <span class="st">&quot;Bayesian&quot;</span>),<span class="at">alpha=</span><span class="fl">0.95</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-35"></span>
<img src="Images/THR_compare_maha-wn-bay.png" alt=" Figure of the comparison between the accumulation curve created by the Mahalanobis distance model, the weigthed normal model, and the Bayesian model for the species *Threnetes ruckeri*." width="80%" />
<p class="caption">
Figure 11.5:  Figure of the comparison between the accumulation curve created by the Mahalanobis distance model, the weigthed normal model, and the Bayesian model for the species <em>Threnetes ruckeri</em>.
</p>
</div>
<p>As the plot shows, the weighted normal distribution model and the Bayesian model have better estimates than the Mahalanobis model as their curve is above the latter.</p>
<p>Plot of all three suitability ellipses in the environmental space:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load environmental space of occurrence points and background points for the plot</span></span>
<span id="cb193-2"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-2" aria-hidden="true" tabindex="-1"></a>thr.occE <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./Generated_Data/Threnetes_ruckeri_occ_GE.csv&quot;</span>,<span class="at">header=</span>T)[,<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)]</span>
<span id="cb193-3"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-3" aria-hidden="true" tabindex="-1"></a>thr.ME <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./Generated_Data/Threnetes_ruckeri_M_GE.csv&quot;</span>,<span class="at">header=</span>T)[,<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)]</span>
<span id="cb193-4"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-5"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-5" aria-hidden="true" tabindex="-1"></a><span class="co"># load csv-files with estimated parameters for all three models for the ellipses</span></span>
<span id="cb193-6"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-6" aria-hidden="true" tabindex="-1"></a>trpar1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./Generated_Data/tr_mu_sigma_estimates.csv&quot;</span>,<span class="at">header=</span>T)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb193-7"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-7" aria-hidden="true" tabindex="-1"></a>trpar2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;./Generated_Data/tr_bay_mu_sigma_estimates.csv&quot;</span>,<span class="at">header=</span>T)</span>
<span id="cb193-8"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-9"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-9" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate ellipses</span></span>
<span id="cb193-10"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-10" aria-hidden="true" tabindex="-1"></a>el.maha <span class="ot">&lt;-</span> ellipse<span class="sc">::</span><span class="fu">ellipse</span>(<span class="at">x=</span><span class="fu">cbind</span>(trpar1<span class="sc">$</span>maha.sigma1,trpar1<span class="sc">$</span>maha.sigma2), </span>
<span id="cb193-11"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">centre=</span>trpar1<span class="sc">$</span>maha.mu, <span class="at">level=</span><span class="fl">0.99</span>)</span>
<span id="cb193-12"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-12" aria-hidden="true" tabindex="-1"></a>el.wn <span class="ot">&lt;-</span> ellipse<span class="sc">::</span><span class="fu">ellipse</span>(<span class="at">x=</span><span class="fu">cbind</span>(trpar1<span class="sc">$</span>wn.sigma1, trpar1<span class="sc">$</span>wn.sigma2), </span>
<span id="cb193-13"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">centre=</span>trpar1<span class="sc">$</span>wn.mu, <span class="at">level=</span><span class="fl">0.99</span>)</span>
<span id="cb193-14"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-14" aria-hidden="true" tabindex="-1"></a>el.bay <span class="ot">&lt;-</span> ellipse<span class="sc">::</span><span class="fu">ellipse</span>(<span class="at">x=</span><span class="fu">cbind</span>(trpar2<span class="sc">$</span>Sigma1, trpar2<span class="sc">$</span>Sigma2), <span class="at">centre=</span>trpar2<span class="sc">$</span>mu, <span class="at">level=</span><span class="fl">0.99</span>)</span>
<span id="cb193-15"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-16"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-17"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-17" aria-hidden="true" tabindex="-1"></a><span class="do">## plot</span></span>
<span id="cb193-18"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-18" aria-hidden="true" tabindex="-1"></a><span class="co"># set colorpalette</span></span>
<span id="cb193-19"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-19" aria-hidden="true" tabindex="-1"></a>colpal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;grey70&quot;</span>, <span class="st">&quot;chartreuse4&quot;</span>, <span class="st">&quot;coral2&quot;</span>, <span class="st">&quot;cadetblue3&quot;</span>, <span class="st">&quot;slateblue4&quot;</span>)</span>
<span id="cb193-20"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-21"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-21" aria-hidden="true" tabindex="-1"></a><span class="co"># x11()</span></span>
<span id="cb193-22"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-22" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(thr.ME,<span class="at">col=</span>colpal[<span class="dv">1</span>],<span class="at">pch=</span><span class="dv">1</span>, <span class="at">xlab=</span><span class="st">&quot;Annual mean temperature (°C*10)&quot;</span>, </span>
<span id="cb193-23"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&quot;Annual precipitation (mm)&quot;</span>, <span class="at">xlim=</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">320</span>), <span class="at">ylim=</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">8000</span>))</span>
<span id="cb193-24"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-24" aria-hidden="true" tabindex="-1"></a><span class="co"># add presence points to the plot</span></span>
<span id="cb193-25"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-25" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(thr.occE,<span class="at">col=</span>colpal[<span class="dv">3</span>],<span class="at">pch=</span><span class="dv">20</span>,<span class="at">cex=</span><span class="fl">1.5</span>) <span class="co"># presences used in model</span></span>
<span id="cb193-26"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-26" aria-hidden="true" tabindex="-1"></a><span class="co"># add center points for the ellipses</span></span>
<span id="cb193-27"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-27" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">rbind</span>(trpar1<span class="sc">$</span>maha.mu,trpar1<span class="sc">$</span>wn.mu, trpar2<span class="sc">$</span>mu), </span>
<span id="cb193-28"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">col=</span> <span class="fu">c</span>(colpal[<span class="dv">4</span>], colpal[<span class="dv">2</span>], colpal[<span class="dv">5</span>]), <span class="at">pch=</span><span class="dv">20</span>, <span class="at">cex=</span><span class="fl">1.5</span>)</span>
<span id="cb193-29"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-29" aria-hidden="true" tabindex="-1"></a><span class="co"># ellipse maha</span></span>
<span id="cb193-30"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-30" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(el.maha,<span class="at">col=</span>colpal[<span class="dv">4</span>],<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb193-31"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-31" aria-hidden="true" tabindex="-1"></a><span class="co"># ellipse wn</span></span>
<span id="cb193-32"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-32" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(el.wn,<span class="at">col=</span>colpal[<span class="dv">2</span>],<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb193-33"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-33" aria-hidden="true" tabindex="-1"></a><span class="co"># ellipse bayesian</span></span>
<span id="cb193-34"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-34" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(el.bay,<span class="at">col=</span>colpal[<span class="dv">5</span>],<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb193-35"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-35" aria-hidden="true" tabindex="-1"></a>sp.leg <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Threnetes ruckeri&quot;</span>,<span class="st">&quot;(&quot;</span>,<span class="fu">nrow</span>(thr.occE),<span class="st">&quot;)&quot;</span>)</span>
<span id="cb193-36"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-36" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>,<span class="at">legend =</span> <span class="fu">c</span>(sp.leg,<span class="st">&quot;Points inside M&quot;</span>,<span class="st">&quot;Presences&quot;</span>,</span>
<span id="cb193-37"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-37" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Ellipse from Mahalanobis method&quot;</span>,</span>
<span id="cb193-38"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-38" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Ellipse from weighted-normal model&quot;</span>,</span>
<span id="cb193-39"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-39" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Ellipse from Bayesian model&quot;</span>),</span>
<span id="cb193-40"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch=</span><span class="fu">c</span>(<span class="cn">NA</span>,<span class="dv">1</span>,<span class="dv">19</span>,<span class="cn">NA</span>,<span class="cn">NA</span>, <span class="cn">NA</span>),<span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, colpal[<span class="dv">1</span>], colpal[<span class="dv">3</span>], </span>
<span id="cb193-41"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-41" aria-hidden="true" tabindex="-1"></a>                                        colpal[<span class="dv">4</span>], colpal[<span class="dv">2</span>], colpal[<span class="dv">5</span>]),</span>
<span id="cb193-42"><a href="evaluation-method-building-accumulation-curve-of-occurrences.html#cb193-42" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd=</span><span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>),<span class="at">bty =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-37"></span>
<img src="Images/Thr_threemodels.png" alt=" Figure of the three models in Espace for the species *Threnetes ruckeri*." width="80%" />
<p class="caption">
Figure 11.6:  Figure of the three models in Espace for the species <em>Threnetes ruckeri</em>.
</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="projecting-an-estimated-niche-into-g-space.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bayesian-model-adding-tolerance-limits.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
